!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.EasyGoogleMaps=e():t.EasyGoogleMaps=e()}(this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return t[i].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(1),u=n(!function(){var t=new Error('Cannot find module "google-maps"');throw t.code="MODULE_NOT_FOUND",t}()),l=i(u);e.default=function(){var t={checkPropsString:function(t){return"string"==typeof t&&t.length}},e=function(){function e(t){o(this,e),this._props=t||{},this._markers=[],this._infoboxes=[],this._defaultWidth="300px"}return s(e,[{key:"init",value:function(){var e=this._props,i=this;l.default.KEY=e.map.APIKEY,l.default.load(function(o){!function(){var o=[n(2)];(function(n){if(i._initMap(),e.markers&&"object"==r(e.markers)&&Object.keys(e.markers).length)if(e.markers.url)!t.checkPropsString(e.markers)&&t.checkPropsString(e.markers.url)&&i._loadData(function(o){var r=t.checkPropsString(e.infobox.template)?i._getTemplate():null;i._addItems(o,r,n)});else if(!e.markers.url){var o=t.checkPropsString(e.infobox.template)?i._getTemplate():null;i._addItems(e.markers.items,o,n)}}).apply(null,o)}()})}},{key:"_initMap",value:function(){var t=this._props;this._container=document.querySelector(t.map.container),this._map=new google.maps.Map(this._container,t.map.options)}},{key:"_loadData",value:function(t){var e=this._props,n=this._container.getAttribute(e.markers.url),i=new XMLHttpRequest;i.open("GET",n,!0),i.onload=function(){200==i.status&&t(JSON.parse(i.responseText))},i.send()}},{key:"_getTemplate",value:function(){var t=document.querySelector(this._props.infobox.template).innerHTML;return(0,a.template)(t)}},{key:"_addItems",value:function(t,e,n){for(var i=this,o=function(o){var r=t[o].marker,s=i._createMarker(r);if(i._markers.push(s),e&&i._props.infobox){var a=t[o].content,u=e(a),l=i._createInfoBox(u,s,n);i._infoboxes.push(l),google.maps.event.addListener(s,"click",function(t){return i._toggleInfobox(l,s)}),google.maps.event.addListener(l,"domready",function(t){return i._addEventOnCloseButton(l,s)})}},r=0;r<t.length;r++)o(r);this._props.infobox.onlyOneBox&&google.maps.event.addListener(this._map,"click",function(t){i._closeAllInfobox()})}},{key:"_addEventOnCloseButton",value:function(t,e){var n=this,i=this._props,o=t.div_,r=o.querySelectorAll(i.infobox.closeButton);this._setInfoBoxPosition(t,o),Array.prototype.forEach.call(r,function(i){i.addEventListener("click",function(i){i.preventDefault(),n._closeInfobox(t),n._closeMarker(e)},!1)})}},{key:"_closeAllInfobox",value:function(){var t=this;this._infoboxes.forEach(function(e){return t._closeInfobox(e)}),this._closeMarkers()}},{key:"_closeInfobox",value:function(t){t.close(),t.isOpen=!1}},{key:"_openInfobox",value:function(t,e){t.open(this._map,e),t.isOpen=!0}},{key:"_toggleInfobox",value:function(t,e){var n=e.activeIcon;e.defaultIcon;t.isOpen?(this._closeInfobox(t),n&&n.length&&this._toggleMarker(e,"defaultIcon")):(this._props.infobox.onlyOneBox&&(this._closeAllInfobox(),this._closeMarkers()),this._openInfobox(t,e),n&&n.length&&this._toggleMarker(e,"activeIcon"))}},{key:"_createMarker",value:function(t){var e=t.icon,n=e.size,i=e.centering||{x:0,y:0},o={url:e.default||"",scaledSize:new google.maps.Size(n.x,n.y),anchor:new google.maps.Point(i.x,i.y)},r=new google.maps.Marker({map:this._map,position:t.position,defaultIcon:t.icon.default||"",activeIcon:t.icon.active||"",iconSize:n,iconStyles:o});return e.default&&r.setIcon(o),r}},{key:"_closeMarkers",value:function(){var t=this;this._markers.forEach(function(e){return t._closeMarker(e)})}},{key:"_closeMarker",value:function(t){t.setIcon(t.iconStyles)}},{key:"_toggleMarker",value:function(t,e){var n=JSON.parse(JSON.stringify(t.iconStyles));n.url=t[e],t.setIcon(n)}},{key:"_createInfoBox",value:function(t,e,n){var i=this._props.infobox,o=i.style||{},r=o.width||this._defaultWidth;o.width=r;var s=e.iconSize;return this._offsetX=s.x,this._offsetY=s.y,new n({content:t,enableEventPropagation:!1,disableAutoPan:!1,infoBoxClearance:new google.maps.Size(10,10),boxClass:i.class||"infobox",zIndex:i.zIndex||null,maxWidth:i.maxWidth||0,boxStyle:o,closeBoxURL:"",pane:"floatPane",isOpen:!1})}},{key:"_setInfoBoxPosition",value:function(t,e){var n=this._props.infobox,i=e.offsetWidth,o=e.offsetHeight,r=n.position||{},s=r.x||"top",a=r.y||"center";this._positionX=this._getInfoBoxPositionX(s,i,this._offsetX),this._positionY=this._getInfoBoxPositionY(a,o,this._offsetY),t.setOptions({pixelOffset:new google.maps.Size(this._positionX,this._positionY.offset),alignBottom:this._positionY.align})}},{key:"_getInfoBoxPositionY",value:function(t,e,n){switch(t){case"top":return{offset:-n,align:!0};case"center":return{offset:-e/2-n/2,align:!1}}return{offset:0,align:!1}}},{key:"_getInfoBoxPositionX",value:function(t,e,n){switch(t){case"left":return-e-n/2;case"right":return n/2}return-e/2-n/2}}]),e}();return e}(),t.exports=e.default},function(t,e,n){var i,o;(function(){function n(t){function e(e,n,i,o,r,s){for(;r>=0&&r<s;r+=t){var a=o?o[r]:r;i=n(i,e[a],a,e)}return i}return function(n,i,o,r){i=w(i,r,4);var s=!P(n)&&k.keys(n),a=(s||n).length,u=t>0?0:a-1;return arguments.length<3&&(o=n[s?s[u]:u],u+=t),e(n,i,o,s,u,a)}}function r(t){return function(e,n,i){n=B(n,i);for(var o=M(e),r=t>0?0:o-1;r>=0&&r<o;r+=t)if(n(e[r],r,e))return r;return-1}}function s(t,e,n){return function(i,o,r){var s=0,a=M(i);if("number"==typeof r)t>0?s=r>=0?r:Math.max(r+a,s):a=r>=0?Math.min(r+1,a):r+a+1;else if(n&&r&&a)return r=n(i,o),i[r]===o?r:-1;if(o!==o)return r=e(d.call(i,s,a),k.isNaN),r>=0?r+s:-1;for(r=t>0?s:a-1;r>=0&&r<a;r+=t)if(i[r]===o)return r;return-1}}function a(t,e){var n=W.length,i=t.constructor,o=k.isFunction(i)&&i.prototype||f,r="constructor";for(k.has(t,r)&&!k.contains(e,r)&&e.push(r);n--;)r=W[n],r in t&&t[r]!==o[r]&&!k.contains(e,r)&&e.push(r)}var u=this,l=u._,c=Array.prototype,f=Object.prototype,p=Function.prototype,h=c.push,d=c.slice,v=f.toString,_=f.hasOwnProperty,y=Array.isArray,g=Object.keys,m=p.bind,x=Object.create,b=function(){},k=function(t){return t instanceof k?t:this instanceof k?void(this._wrapped=t):new k(t)};"undefined"!=typeof t&&t.exports&&(e=t.exports=k),e._=k,k.VERSION="1.8.3";var w=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,o){return t.call(e,n,i,o)};case 4:return function(n,i,o,r){return t.call(e,n,i,o,r)}}return function(){return t.apply(e,arguments)}},B=function(t,e,n){return null==t?k.identity:k.isFunction(t)?w(t,e,n):k.isObject(t)?k.matcher(t):k.property(t)};k.iteratee=function(t,e){return B(t,e,1/0)};var L=function(t,e){return function(n){var i=arguments.length;if(i<2||null==n)return n;for(var o=1;o<i;o++)for(var r=arguments[o],s=t(r),a=s.length,u=0;u<a;u++){var l=s[u];e&&void 0!==n[l]||(n[l]=r[l])}return n}},I=function(t){if(!k.isObject(t))return{};if(x)return x(t);b.prototype=t;var e=new b;return b.prototype=null,e},S=function(t){return function(e){return null==e?void 0:e[t]}},O=Math.pow(2,53)-1,M=S("length"),P=function(t){var e=M(t);return"number"==typeof e&&e>=0&&e<=O};k.each=k.forEach=function(t,e,n){e=w(e,n);var i,o;if(P(t))for(i=0,o=t.length;i<o;i++)e(t[i],i,t);else{var r=k.keys(t);for(i=0,o=r.length;i<o;i++)e(t[r[i]],r[i],t)}return t},k.map=k.collect=function(t,e,n){e=B(e,n);for(var i=!P(t)&&k.keys(t),o=(i||t).length,r=Array(o),s=0;s<o;s++){var a=i?i[s]:s;r[s]=e(t[a],a,t)}return r},k.reduce=k.foldl=k.inject=n(1),k.reduceRight=k.foldr=n(-1),k.find=k.detect=function(t,e,n){var i;if(i=P(t)?k.findIndex(t,e,n):k.findKey(t,e,n),void 0!==i&&i!==-1)return t[i]},k.filter=k.select=function(t,e,n){var i=[];return e=B(e,n),k.each(t,function(t,n,o){e(t,n,o)&&i.push(t)}),i},k.reject=function(t,e,n){return k.filter(t,k.negate(B(e)),n)},k.every=k.all=function(t,e,n){e=B(e,n);for(var i=!P(t)&&k.keys(t),o=(i||t).length,r=0;r<o;r++){var s=i?i[r]:r;if(!e(t[s],s,t))return!1}return!0},k.some=k.any=function(t,e,n){e=B(e,n);for(var i=!P(t)&&k.keys(t),o=(i||t).length,r=0;r<o;r++){var s=i?i[r]:r;if(e(t[s],s,t))return!0}return!1},k.contains=k.includes=k.include=function(t,e,n,i){return P(t)||(t=k.values(t)),("number"!=typeof n||i)&&(n=0),k.indexOf(t,e,n)>=0},k.invoke=function(t,e){var n=d.call(arguments,2),i=k.isFunction(e);return k.map(t,function(t){var o=i?e:t[e];return null==o?o:o.apply(t,n)})},k.pluck=function(t,e){return k.map(t,k.property(e))},k.where=function(t,e){return k.filter(t,k.matcher(e))},k.findWhere=function(t,e){return k.find(t,k.matcher(e))},k.max=function(t,e,n){var i,o,r=-(1/0),s=-(1/0);if(null==e&&null!=t){t=P(t)?t:k.values(t);for(var a=0,u=t.length;a<u;a++)i=t[a],i>r&&(r=i)}else e=B(e,n),k.each(t,function(t,n,i){o=e(t,n,i),(o>s||o===-(1/0)&&r===-(1/0))&&(r=t,s=o)});return r},k.min=function(t,e,n){var i,o,r=1/0,s=1/0;if(null==e&&null!=t){t=P(t)?t:k.values(t);for(var a=0,u=t.length;a<u;a++)i=t[a],i<r&&(r=i)}else e=B(e,n),k.each(t,function(t,n,i){o=e(t,n,i),(o<s||o===1/0&&r===1/0)&&(r=t,s=o)});return r},k.shuffle=function(t){for(var e,n=P(t)?t:k.values(t),i=n.length,o=Array(i),r=0;r<i;r++)e=k.random(0,r),e!==r&&(o[r]=o[e]),o[e]=n[r];return o},k.sample=function(t,e,n){return null==e||n?(P(t)||(t=k.values(t)),t[k.random(t.length-1)]):k.shuffle(t).slice(0,Math.max(0,e))},k.sortBy=function(t,e,n){return e=B(e,n),k.pluck(k.map(t,function(t,n,i){return{value:t,index:n,criteria:e(t,n,i)}}).sort(function(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(n<i||void 0===i)return-1}return t.index-e.index}),"value")};var C=function(t){return function(e,n,i){var o={};return n=B(n,i),k.each(e,function(i,r){var s=n(i,r,e);t(o,i,s)}),o}};k.groupBy=C(function(t,e,n){k.has(t,n)?t[n].push(e):t[n]=[e]}),k.indexBy=C(function(t,e,n){t[n]=e}),k.countBy=C(function(t,e,n){k.has(t,n)?t[n]++:t[n]=1}),k.toArray=function(t){return t?k.isArray(t)?d.call(t):P(t)?k.map(t,k.identity):k.values(t):[]},k.size=function(t){return null==t?0:P(t)?t.length:k.keys(t).length},k.partition=function(t,e,n){e=B(e,n);var i=[],o=[];return k.each(t,function(t,n,r){(e(t,n,r)?i:o).push(t)}),[i,o]},k.first=k.head=k.take=function(t,e,n){if(null!=t)return null==e||n?t[0]:k.initial(t,t.length-e)},k.initial=function(t,e,n){return d.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},k.last=function(t,e,n){if(null!=t)return null==e||n?t[t.length-1]:k.rest(t,Math.max(0,t.length-e))},k.rest=k.tail=k.drop=function(t,e,n){return d.call(t,null==e||n?1:e)},k.compact=function(t){return k.filter(t,k.identity)};var j=function(t,e,n,i){for(var o=[],r=0,s=i||0,a=M(t);s<a;s++){var u=t[s];if(P(u)&&(k.isArray(u)||k.isArguments(u))){e||(u=j(u,e,n));var l=0,c=u.length;for(o.length+=c;l<c;)o[r++]=u[l++]}else n||(o[r++]=u)}return o};k.flatten=function(t,e){return j(t,e,!1)},k.without=function(t){return k.difference(t,d.call(arguments,1))},k.uniq=k.unique=function(t,e,n,i){k.isBoolean(e)||(i=n,n=e,e=!1),null!=n&&(n=B(n,i));for(var o=[],r=[],s=0,a=M(t);s<a;s++){var u=t[s],l=n?n(u,s,t):u;e?(s&&r===l||o.push(u),r=l):n?k.contains(r,l)||(r.push(l),o.push(u)):k.contains(o,u)||o.push(u)}return o},k.union=function(){return k.uniq(j(arguments,!0,!0))},k.intersection=function(t){for(var e=[],n=arguments.length,i=0,o=M(t);i<o;i++){var r=t[i];if(!k.contains(e,r)){for(var s=1;s<n&&k.contains(arguments[s],r);s++);s===n&&e.push(r)}}return e},k.difference=function(t){var e=j(arguments,!0,!0,1);return k.filter(t,function(t){return!k.contains(e,t)})},k.zip=function(){return k.unzip(arguments)},k.unzip=function(t){for(var e=t&&k.max(t,M).length||0,n=Array(e),i=0;i<e;i++)n[i]=k.pluck(t,i);return n},k.object=function(t,e){for(var n={},i=0,o=M(t);i<o;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n},k.findIndex=r(1),k.findLastIndex=r(-1),k.sortedIndex=function(t,e,n,i){n=B(n,i,1);for(var o=n(e),r=0,s=M(t);r<s;){var a=Math.floor((r+s)/2);n(t[a])<o?r=a+1:s=a}return r},k.indexOf=s(1,k.findIndex,k.sortedIndex),k.lastIndexOf=s(-1,k.findLastIndex),k.range=function(t,e,n){null==e&&(e=t||0,t=0),n=n||1;for(var i=Math.max(Math.ceil((e-t)/n),0),o=Array(i),r=0;r<i;r++,t+=n)o[r]=t;return o};var A=function(t,e,n,i,o){if(!(i instanceof e))return t.apply(n,o);var r=I(t.prototype),s=t.apply(r,o);return k.isObject(s)?s:r};k.bind=function(t,e){if(m&&t.bind===m)return m.apply(t,d.call(arguments,1));if(!k.isFunction(t))throw new TypeError("Bind must be called on a function");var n=d.call(arguments,2),i=function(){return A(t,i,e,this,n.concat(d.call(arguments)))};return i},k.partial=function(t){var e=d.call(arguments,1),n=function(){for(var i=0,o=e.length,r=Array(o),s=0;s<o;s++)r[s]=e[s]===k?arguments[i++]:e[s];for(;i<arguments.length;)r.push(arguments[i++]);return A(t,n,this,this,r)};return n},k.bindAll=function(t){var e,n,i=arguments.length;if(i<=1)throw new Error("bindAll must be passed function names");for(e=1;e<i;e++)n=arguments[e],t[n]=k.bind(t[n],t);return t},k.memoize=function(t,e){var n=function(i){var o=n.cache,r=""+(e?e.apply(this,arguments):i);return k.has(o,r)||(o[r]=t.apply(this,arguments)),o[r]};return n.cache={},n},k.delay=function(t,e){var n=d.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},k.defer=k.partial(k.delay,k,1),k.throttle=function(t,e,n){var i,o,r,s=null,a=0;n||(n={});var u=function(){a=n.leading===!1?0:k.now(),s=null,r=t.apply(i,o),s||(i=o=null)};return function(){var l=k.now();a||n.leading!==!1||(a=l);var c=e-(l-a);return i=this,o=arguments,c<=0||c>e?(s&&(clearTimeout(s),s=null),a=l,r=t.apply(i,o),s||(i=o=null)):s||n.trailing===!1||(s=setTimeout(u,c)),r}},k.debounce=function(t,e,n){var i,o,r,s,a,u=function(){var l=k.now()-s;l<e&&l>=0?i=setTimeout(u,e-l):(i=null,n||(a=t.apply(r,o),i||(r=o=null)))};return function(){r=this,o=arguments,s=k.now();var l=n&&!i;return i||(i=setTimeout(u,e)),l&&(a=t.apply(r,o),r=o=null),a}},k.wrap=function(t,e){return k.partial(e,t)},k.negate=function(t){return function(){return!t.apply(this,arguments)}},k.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,i=t[e].apply(this,arguments);n--;)i=t[n].call(this,i);return i}},k.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},k.before=function(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}},k.once=k.partial(k.before,2);var E=!{toString:null}.propertyIsEnumerable("toString"),W=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];k.keys=function(t){if(!k.isObject(t))return[];if(g)return g(t);var e=[];for(var n in t)k.has(t,n)&&e.push(n);return E&&a(t,e),e},k.allKeys=function(t){if(!k.isObject(t))return[];var e=[];for(var n in t)e.push(n);return E&&a(t,e),e},k.values=function(t){for(var e=k.keys(t),n=e.length,i=Array(n),o=0;o<n;o++)i[o]=t[e[o]];return i},k.mapObject=function(t,e,n){e=B(e,n);for(var i,o=k.keys(t),r=o.length,s={},a=0;a<r;a++)i=o[a],s[i]=e(t[i],i,t);return s},k.pairs=function(t){for(var e=k.keys(t),n=e.length,i=Array(n),o=0;o<n;o++)i[o]=[e[o],t[e[o]]];return i},k.invert=function(t){for(var e={},n=k.keys(t),i=0,o=n.length;i<o;i++)e[t[n[i]]]=n[i];return e},k.functions=k.methods=function(t){var e=[];for(var n in t)k.isFunction(t[n])&&e.push(n);return e.sort()},k.extend=L(k.allKeys),k.extendOwn=k.assign=L(k.keys),k.findKey=function(t,e,n){e=B(e,n);for(var i,o=k.keys(t),r=0,s=o.length;r<s;r++)if(i=o[r],e(t[i],i,t))return i},k.pick=function(t,e,n){var i,o,r={},s=t;if(null==s)return r;k.isFunction(e)?(o=k.allKeys(s),i=w(e,n)):(o=j(arguments,!1,!1,1),i=function(t,e,n){return e in n},s=Object(s));for(var a=0,u=o.length;a<u;a++){var l=o[a],c=s[l];i(c,l,s)&&(r[l]=c)}return r},k.omit=function(t,e,n){if(k.isFunction(e))e=k.negate(e);else{var i=k.map(j(arguments,!1,!1,1),String);e=function(t,e){return!k.contains(i,e)}}return k.pick(t,e,n)},k.defaults=L(k.allKeys,!0),k.create=function(t,e){var n=I(t);return e&&k.extendOwn(n,e),n},k.clone=function(t){return k.isObject(t)?k.isArray(t)?t.slice():k.extend({},t):t},k.tap=function(t,e){return e(t),t},k.isMatch=function(t,e){var n=k.keys(e),i=n.length;if(null==t)return!i;for(var o=Object(t),r=0;r<i;r++){var s=n[r];if(e[s]!==o[s]||!(s in o))return!1}return!0};var T=function(t,e,n,i){if(t===e)return 0!==t||1/t===1/e;if(null==t||null==e)return t===e;t instanceof k&&(t=t._wrapped),e instanceof k&&(e=e._wrapped);var o=v.call(t);if(o!==v.call(e))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!==+t?+e!==+e:0===+t?1/+t===1/e:+t===+e;case"[object Date]":case"[object Boolean]":return+t===+e}var r="[object Array]"===o;if(!r){if("object"!=typeof t||"object"!=typeof e)return!1;var s=t.constructor,a=e.constructor;if(s!==a&&!(k.isFunction(s)&&s instanceof s&&k.isFunction(a)&&a instanceof a)&&"constructor"in t&&"constructor"in e)return!1}n=n||[],i=i||[];for(var u=n.length;u--;)if(n[u]===t)return i[u]===e;if(n.push(t),i.push(e),r){if(u=t.length,u!==e.length)return!1;for(;u--;)if(!T(t[u],e[u],n,i))return!1}else{var l,c=k.keys(t);if(u=c.length,k.keys(e).length!==u)return!1;for(;u--;)if(l=c[u],!k.has(e,l)||!T(t[l],e[l],n,i))return!1}return n.pop(),i.pop(),!0};k.isEqual=function(t,e){return T(t,e)},k.isEmpty=function(t){return null==t||(P(t)&&(k.isArray(t)||k.isString(t)||k.isArguments(t))?0===t.length:0===k.keys(t).length)},k.isElement=function(t){return!(!t||1!==t.nodeType)},k.isArray=y||function(t){return"[object Array]"===v.call(t)},k.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},k.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){k["is"+t]=function(e){return v.call(e)==="[object "+t+"]"}}),k.isArguments(arguments)||(k.isArguments=function(t){return k.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(k.isFunction=function(t){return"function"==typeof t||!1}),k.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},k.isNaN=function(t){return k.isNumber(t)&&t!==+t},k.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"===v.call(t)},k.isNull=function(t){return null===t},k.isUndefined=function(t){return void 0===t},k.has=function(t,e){return null!=t&&_.call(t,e)},k.noConflict=function(){return u._=l,this},k.identity=function(t){return t},k.constant=function(t){return function(){return t}},k.noop=function(){},k.property=S,k.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},k.matcher=k.matches=function(t){return t=k.extendOwn({},t),function(e){return k.isMatch(e,t)}},k.times=function(t,e,n){var i=Array(Math.max(0,t));e=w(e,n,1);for(var o=0;o<t;o++)i[o]=e(o);return i},k.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},k.now=Date.now||function(){return(new Date).getTime()};var H={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},z=k.invert(H),R=function(t){var e=function(e){return t[e]},n="(?:"+k.keys(t).join("|")+")",i=RegExp(n),o=RegExp(n,"g");return function(t){return t=null==t?"":""+t,i.test(t)?t.replace(o,e):t}};k.escape=R(H),k.unescape=R(z),k.result=function(t,e,n){var i=null==t?void 0:t[e];return void 0===i&&(i=n),k.isFunction(i)?i.call(t):i};var D=0;k.uniqueId=function(t){var e=++D+"";return t?t+e:e},k.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var F=/(.)^/,N={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},U=/\\|'|\r|\n|\u2028|\u2029/g,q=function(t){return"\\"+N[t]};k.template=function(t,e,n){!e&&n&&(e=n),e=k.defaults({},e,k.templateSettings);var i=RegExp([(e.escape||F).source,(e.interpolate||F).source,(e.evaluate||F).source].join("|")+"|$","g"),o=0,r="__p+='";t.replace(i,function(e,n,i,s,a){return r+=t.slice(o,a).replace(U,q),o=a+e.length,n?r+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?r+="'+\n((__t=("+i+"))==null?'':__t)+\n'":s&&(r+="';\n"+s+"\n__p+='"),e}),r+="';\n",e.variable||(r="with(obj||{}){\n"+r+"}\n"),r="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+r+"return __p;\n";try{var s=new Function(e.variable||"obj","_",r)}catch(t){throw t.source=r,t}var a=function(t){return s.call(this,t,k)},u=e.variable||"obj";return a.source="function("+u+"){\n"+r+"}",a},k.chain=function(t){var e=k(t);return e._chain=!0,e};var V=function(t,e){return t._chain?k(e).chain():e};k.mixin=function(t){k.each(k.functions(t),function(e){var n=k[e]=t[e];k.prototype[e]=function(){var t=[this._wrapped];return h.apply(t,arguments),V(this,n.apply(k,t))}})},k.mixin(k),k.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=c[t];k.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],V(this,n)}}),k.each(["concat","join","slice"],function(t){var e=c[t];k.prototype[t]=function(){return V(this,e.apply(this._wrapped,arguments))}}),k.prototype.value=function(){return this._wrapped},k.prototype.valueOf=k.prototype.toJSON=k.prototype.value,k.prototype.toString=function(){return""+this._wrapped},i=[],o=function(){return k}.apply(e,i),!(void 0!==o&&(t.exports=o))}).call(this)},function(t,e){/*!
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *       http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */
function n(t){t=t||{},google.maps.OverlayView.apply(this,arguments),this.content_=t.content||"",this.disableAutoPan_=t.disableAutoPan||!1,this.maxWidth_=t.maxWidth||0,this.pixelOffset_=t.pixelOffset||new google.maps.Size(0,0),this.position_=t.position||new google.maps.LatLng(0,0),this.zIndex_=t.zIndex||null,this.boxClass_=t.boxClass||"infoBox",this.boxStyle_=t.boxStyle||{},this.closeBoxMargin_=t.closeBoxMargin||"2px",this.closeBoxURL_=t.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",""===t.closeBoxURL&&(this.closeBoxURL_=""),this.infoBoxClearance_=t.infoBoxClearance||new google.maps.Size(1,1),"undefined"==typeof t.visible&&("undefined"==typeof t.isHidden?t.visible=!0:t.visible=!t.isHidden),this.isHidden_=!t.visible,this.alignBottom_=t.alignBottom||!1,this.pane_=t.pane||"floatPane",this.enableEventPropagation_=t.enableEventPropagation||!1,this.div_=null,this.closeListener_=null,this.moveListener_=null,this.mapListener_=null,this.contextListener_=null,this.eventListeners_=null,this.fixedWidthSet_=null}n.prototype=new google.maps.OverlayView,n.prototype.createInfoBoxDiv_=function(){var t,e,n,i=this,o=function(t){t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation()},r=function(t){t.returnValue=!1,t.preventDefault&&t.preventDefault(),i.enableEventPropagation_||o(t)};if(!this.div_){if(this.div_=document.createElement("div"),this.setBoxStyle_(),"undefined"==typeof this.content_.nodeType?this.div_.innerHTML=this.getCloseBoxImg_()+this.content_:(this.div_.innerHTML=this.getCloseBoxImg_(),this.div_.appendChild(this.content_)),this.getPanes()[this.pane_].appendChild(this.div_),this.addClickHandler_(),this.div_.style.width?this.fixedWidthSet_=!0:0!==this.maxWidth_&&this.div_.offsetWidth>this.maxWidth_?(this.div_.style.width=this.maxWidth_,this.fixedWidthSet_=!0):(n=this.getBoxWidths_(),this.div_.style.width=this.div_.offsetWidth-n.left-n.right+"px",this.fixedWidthSet_=!1),this.panBox_(this.disableAutoPan_),!this.enableEventPropagation_){for(this.eventListeners_=[],e=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],t=0;t<e.length;t++)this.eventListeners_.push(google.maps.event.addDomListener(this.div_,e[t],o));this.eventListeners_.push(google.maps.event.addDomListener(this.div_,"mouseover",function(t){this.style.cursor="default"}))}this.contextListener_=google.maps.event.addDomListener(this.div_,"contextmenu",r),google.maps.event.trigger(this,"domready")}},n.prototype.getCloseBoxImg_=function(){var t="";return""!==this.closeBoxURL_&&(t="<img",t+=" src='"+this.closeBoxURL_+"'",t+=" align=right",t+=" style='",t+=" position: relative;",t+=" cursor: pointer;",t+=" margin: "+this.closeBoxMargin_+";",t+="'>"),t},n.prototype.addClickHandler_=function(){var t;""!==this.closeBoxURL_?(t=this.div_.firstChild,this.closeListener_=google.maps.event.addDomListener(t,"click",this.getCloseClickHandler_())):this.closeListener_=null},n.prototype.getCloseClickHandler_=function(){var t=this;return function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(t,"closeclick"),t.close()}},n.prototype.panBox_=function(t){var e,n,i=0,o=0;if(!t&&(e=this.getMap(),e instanceof google.maps.Map)){e.getBounds().contains(this.position_)||e.setCenter(this.position_),n=e.getBounds();var r=e.getDiv(),s=r.offsetWidth,a=r.offsetHeight,u=this.pixelOffset_.width,l=this.pixelOffset_.height,c=this.div_.offsetWidth,f=this.div_.offsetHeight,p=this.infoBoxClearance_.width,h=this.infoBoxClearance_.height,d=this.getProjection().fromLatLngToContainerPixel(this.position_);if(d.x<-u+p?i=d.x+u-p:d.x+c+u+p>s&&(i=d.x+c+u+p-s),this.alignBottom_?d.y<-l+h+f?o=d.y+l-h-f:d.y+l+h>a&&(o=d.y+l+h-a):d.y<-l+h?o=d.y+l-h:d.y+f+l+h>a&&(o=d.y+f+l+h-a),0!==i||0!==o){e.getCenter();e.panBy(i,o)}}},n.prototype.setBoxStyle_=function(){var t,e;if(this.div_){this.div_.className=this.boxClass_,this.div_.style.cssText="",e=this.boxStyle_;for(t in e)e.hasOwnProperty(t)&&(this.div_.style[t]=e[t]);this.div_.style.WebkitTransform="translateZ(0)","undefined"!=typeof this.div_.style.opacity&&""!==this.div_.style.opacity&&(this.div_.style.MsFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+100*this.div_.style.opacity+')"',this.div_.style.filter="alpha(opacity="+100*this.div_.style.opacity+")"),this.div_.style.position="absolute",this.div_.style.visibility="hidden",null!==this.zIndex_&&(this.div_.style.zIndex=this.zIndex_),this.div_.style.overflow||(this.div_.style.overflow="auto")}},n.prototype.getBoxWidths_=function(){var t,e={top:0,bottom:0,left:0,right:0},n=this.div_;return document.defaultView&&document.defaultView.getComputedStyle?(t=n.ownerDocument.defaultView.getComputedStyle(n,""),t&&(e.top=parseInt(t.borderTopWidth,10)||0,e.bottom=parseInt(t.borderBottomWidth,10)||0,e.left=parseInt(t.borderLeftWidth,10)||0,e.right=parseInt(t.borderRightWidth,10)||0)):document.documentElement.currentStyle&&n.currentStyle&&(e.top=parseInt(n.currentStyle.borderTopWidth,10)||0,e.bottom=parseInt(n.currentStyle.borderBottomWidth,10)||0,e.left=parseInt(n.currentStyle.borderLeftWidth,10)||0,e.right=parseInt(n.currentStyle.borderRightWidth,10)||0),e},n.prototype.onRemove=function(){this.div_&&(this.div_.parentNode.removeChild(this.div_),this.div_=null)},n.prototype.draw=function(){this.createInfoBoxDiv_();var t=this.getProjection().fromLatLngToDivPixel(this.position_);this.div_.style.left=t.x+this.pixelOffset_.width+"px",this.alignBottom_?this.div_.style.bottom=-(t.y+this.pixelOffset_.height)+"px":this.div_.style.top=t.y+this.pixelOffset_.height+"px",this.isHidden_?this.div_.style.visibility="hidden":this.div_.style.visibility="visible"},n.prototype.setOptions=function(t){"undefined"!=typeof t.boxClass&&(this.boxClass_=t.boxClass,this.setBoxStyle_()),"undefined"!=typeof t.boxStyle&&(this.boxStyle_=t.boxStyle,this.setBoxStyle_()),"undefined"!=typeof t.content&&this.setContent(t.content),"undefined"!=typeof t.disableAutoPan&&(this.disableAutoPan_=t.disableAutoPan),"undefined"!=typeof t.maxWidth&&(this.maxWidth_=t.maxWidth),"undefined"!=typeof t.pixelOffset&&(this.pixelOffset_=t.pixelOffset),"undefined"!=typeof t.alignBottom&&(this.alignBottom_=t.alignBottom),"undefined"!=typeof t.position&&this.setPosition(t.position),"undefined"!=typeof t.zIndex&&this.setZIndex(t.zIndex),"undefined"!=typeof t.closeBoxMargin&&(this.closeBoxMargin_=t.closeBoxMargin),"undefined"!=typeof t.closeBoxURL&&(this.closeBoxURL_=t.closeBoxURL),"undefined"!=typeof t.infoBoxClearance&&(this.infoBoxClearance_=t.infoBoxClearance),"undefined"!=typeof t.isHidden&&(this.isHidden_=t.isHidden),"undefined"!=typeof t.visible&&(this.isHidden_=!t.visible),"undefined"!=typeof t.enableEventPropagation&&(this.enableEventPropagation_=t.enableEventPropagation),this.div_&&this.draw()},n.prototype.setContent=function(t){this.content_=t,this.div_&&(this.closeListener_&&(google.maps.event.removeListener(this.closeListener_),this.closeListener_=null),this.fixedWidthSet_||(this.div_.style.width=""),"undefined"==typeof t.nodeType?this.div_.innerHTML=this.getCloseBoxImg_()+t:(this.div_.innerHTML=this.getCloseBoxImg_(),this.div_.appendChild(t)),this.fixedWidthSet_||(this.div_.style.width=this.div_.offsetWidth+"px","undefined"==typeof t.nodeType?this.div_.innerHTML=this.getCloseBoxImg_()+t:(this.div_.innerHTML=this.getCloseBoxImg_(),this.div_.appendChild(t))),this.addClickHandler_()),google.maps.event.trigger(this,"content_changed")},n.prototype.setPosition=function(t){this.position_=t,this.div_&&this.draw(),google.maps.event.trigger(this,"position_changed")},n.prototype.setZIndex=function(t){this.zIndex_=t,this.div_&&(this.div_.style.zIndex=t),google.maps.event.trigger(this,"zindex_changed")},n.prototype.setVisible=function(t){this.isHidden_=!t,this.div_&&(this.div_.style.visibility=this.isHidden_?"hidden":"visible")},n.prototype.getContent=function(){return this.content_},n.prototype.getPosition=function(){return this.position_},n.prototype.getZIndex=function(){return this.zIndex_},n.prototype.getVisible=function(){var t;return t="undefined"!=typeof this.getMap()&&null!==this.getMap()&&!this.isHidden_},n.prototype.show=function(){this.isHidden_=!1,this.div_&&(this.div_.style.visibility="visible")},n.prototype.hide=function(){this.isHidden_=!0,this.div_&&(this.div_.style.visibility="hidden")},n.prototype.open=function(t,e){var n=this;e&&(this.position_=e.getPosition(),this.moveListener_=google.maps.event.addListener(e,"position_changed",function(){n.setPosition(this.getPosition())}),this.mapListener_=google.maps.event.addListener(e,"map_changed",function(){n.setMap(this.map)})),this.setMap(t),this.div_&&this.panBox_()},n.prototype.close=function(){var t;if(this.closeListener_&&(google.maps.event.removeListener(this.closeListener_),this.closeListener_=null),this.eventListeners_){for(t=0;t<this.eventListeners_.length;t++)google.maps.event.removeListener(this.eventListeners_[t]);this.eventListeners_=null}this.moveListener_&&(google.maps.event.removeListener(this.moveListener_),this.moveListener_=null),this.mapListener_&&(google.maps.event.removeListener(this.mapListener_),this.mapListener_=null),this.contextListener_&&(google.maps.event.removeListener(this.contextListener_),this.contextListener_=null),this.setMap(null)},t.exports=n}])});